http://nokarma.org/2011/02/02/javascript-game-development-the-game-loop/